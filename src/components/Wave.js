import React from "react";

const Wave = (props) => {
  const { fromColor, toColor, animate = false } = props;
  //gradient id
  const id = Math.random()
    .toString(36)
    .replace(/[^a-z]+/g, "")
    .substr(2, 10);
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="100%"
      height="264"
      viewBox="0 0 1440 264"
      fill="none"
      preserveAspectRatio="none"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M0 79.2L60 70.4C120 61.6 240 44 360 61.6C480 79.2 600 132 720 162.8C840 193.6 960 202.4 1080 171.6C1200 140.8 1320 70.4 1380 35.2L1440 0V264H1380C1320 264 1200 264 1080 264C960 264 840 264 720 264C600 264 480 264 360 264C240 264 120 264 60 264H0V79.2Z"
        fill={`url(#${id})`}
        className={`transition-all duration-300 ease-in-out delay-150 ${
          animate && "path-0"
        }`}
      />

      <style>
        {` .path-0{
    animation:pathAnim-0 5s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    }
    @keyframes pathAnim-0{
    0%{
    d: path("M 0,400 C 0,400 0,200 0,200 C 130.26666666666665,208.66666666666666 260.5333333333333,217.33333333333331 419,211 C 577.4666666666667,204.66666666666669 764.1333333333334,183.33333333333334 939,179 C 1113.8666666666666,174.66666666666666 1276.9333333333334,187.33333333333331 1440,200 C 1440,200 1440,400 1440,400 Z");
    }
    25%{
    d: path("M 0,400 C 0,400 0,200 0,200 C 120,171.86666666666667 240,143.73333333333332 419,145 C 598,146.26666666666668 836,176.93333333333337 1016,191 C 1196,205.06666666666663 1318,202.5333333333333 1440,200 C 1440,200 1440,400 1440,400 Z");
    }
    50%{
    d: path("M 0,400 C 0,400 0,200 0,200 C 194.93333333333334,163.73333333333335 389.8666666666667,127.46666666666667 553,127 C 716.1333333333333,126.53333333333333 847.4666666666667,161.86666666666667 990,180 C 1132.5333333333333,198.13333333333333 1286.2666666666667,199.06666666666666 1440,200 C 1440,200 1440,400 1440,400 Z");
    }
    100%{
    d: path("M 0,400 C 0,400 0,200 0,200 C 130.26666666666665,208.66666666666666 260.5333333333333,217.33333333333331 419,211 C 577.4666666666667,204.66666666666669 764.1333333333334,183.33333333333334 939,179 C 1113.8666666666666,174.66666666666666 1276.9333333333334,187.33333333333331 1440,200 C 1440,200 1440,400 1440,400 Z");
    }
    }`}
      </style>
      <defs>
        <linearGradient
          id={id}
          x1="720"
          y1="0"
          x2="720"
          y2="264"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor={fromColor} />
          <stop offset="1" stopColor={toColor} />
        </linearGradient>
      </defs>
    </svg>
  );
};

export default Wave;
